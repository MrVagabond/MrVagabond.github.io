## shadowsocks工作原理是什么

Shadowsocks是一种代理工具，用于实现网络流量的加密和代理转发。它的工作原理如下：

服务端设置：首先，在一台公网服务器上搭建Shadowsocks服务端。设置包括选择加密算法和密码、设置监听端口等。

客户端设置：在本地设备（如电脑、手机）上安装并配置Shadowsocks客户端。客户端需要知道服务器的IP地址、端口号、密码和加密算法等信息。

代理连接：当客户端启动时，它会与Shadowsocks服务端建立加密的代理连接。客户端发送经过加密的数据流到服务端，服务端解密并转发数据。

流量加密：在客户端发送的数据流经过代理连接前，它会使用预设的加密算法和密码进行加密。这样，数据在传输过程中是加密的，可以保护数据的安全性。

代理转发：服务端接收到加密的数据流后，会解密数据并将其转发到目标服务器。服务端还会接收目标服务器返回的数据，并加密后转发给客户端。

数据传输：经过代理连接的数据在客户端和服务端之间进行传输。对于网络上的其他设备来说，它们只能看到加密的数据流，无法解析其中的内容。

通过这种方式，Shadowsocks实现了将本地设备的网络流量通过代理服务器进行加密和转发的功能。这可以绕过网络审查和限制，实现安全的网络访问。

## shadowsocks中的local server指的是什么

在Shadowsocks中，"local server"指的是Shadowsocks客户端本地运行的代理服务器。它是Shadowsocks客户端的一部分，用于在本地设备上监听本地流量，并将其转发到Shadowsocks服务端进行加密和代理。

当你在本地设备上配置Shadowsocks客户端时，你需要设置本地服务器的地址、端口、密码和加密算法等参数。这些设置用于指定本地服务器的运行方式和与服务端进行通信的方式。

本地服务器的工作流程如下：

监听本地流量：本地服务器在指定的地址和端口上监听本地设备的网络流量。这意味着本地服务器会截取本地设备发出的网络请求。

加密和转发：当本地服务器收到本地设备发出的网络请求时，它会将请求数据进行加密，使用预设的密码和加密算法。然后，加密后的数据会通过网络连接发送到Shadowsocks服务端。

与服务端通信：本地服务器与Shadowsocks服务端建立连接，并通过该连接发送加密后的数据。本地服务器将加密后的数据发送给服务端，服务端对其进行解密，并将数据流转发到目标服务器。

返回响应：服务端接收到目标服务器的响应后，将其加密并通过与本地服务器建立的连接发送回本地服务器。

解密和转发：本地服务器接收到加密响应数据后，使用预设的密码和加密算法进行解密。然后，它将解密后的数据转发到本地设备上，作为响应返回给本地设备。

通过本地服务器的工作，Shadowsocks客户端能够在本地设备上实现网络流量的代理转发和加密。这样，你可以通过Shadowsocks客户端安全地访问被限制或审查的网络内容。

## local server type是什么意思？

在Shadowsocks中，"local server type"指的是本地服务器的类型或模式。它用于指定本地服务器在工作时所采用的代理模式或行为。

Shadowsocks支持多种不同的本地服务器类型，每种类型都有不同的工作方式和特点。以下是一些常见的本地服务器类型：

SOCKS5：这是一种常见的代理服务器类型，支持TCP和UDP协议。当本地服务器类型设置为SOCKS5时，本地服务器将作为SOCKS5代理服务器运行，接收本地设备的网络流量并将其转发到Shadowsocks服务端。

HTTP：当本地服务器类型设置为HTTP时，本地服务器将作为HTTP代理服务器运行。它可以接收HTTP协议的网络流量并将其转发到Shadowsocks服务端。

HTTPS：类似于HTTP类型，当本地服务器类型设置为HTTPS时，本地服务器将作为HTTPS代理服务器运行。它可以接收HTTPS协议的网络流量并将其转发到Shadowsocks服务端。

Redir：当本地服务器类型设置为Redir时，本地服务器将以透明代理模式运行。它会捕获本地设备的所有网络流量，并将其转发到Shadowsocks服务端。

这些本地服务器类型提供了不同的代理模式和功能，以适应不同的网络环境和需求。你可以根据具体的使用场景和需求，在Shadowsocks客户端中选择适合的本地服务器类型。

## 如果在Linux设置了全局代理，是不是所有流量都会走local server？

如果在Linux设置了全局代理，通常情况下，所有流量将会通过本地服务器进行代理转发。这意味着所有的网络请求都会被重定向到本地服务器，然后由本地服务器进行加密和转发到Shadowsocks服务端。

设置全局代理的方法可以因不同的工具和设置而有所不同，但通常涉及修改系统的网络设置或代理配置。一旦全局代理设置生效，所有的网络流量将会被发送到本地服务器，然后由本地服务器进行处理。

需要注意的是，全局代理将会影响所有网络流量，包括系统级别的流量和应用程序的流量。这意味着无论是浏览器、邮件客户端还是其他应用程序，它们的网络请求都会通过本地服务器进行代理转发。

然而，有些特殊情况下可能存在例外。一些应用程序可能会绕过系统代理设置，直接连接到目标服务器，而不通过本地服务器进行转发。这些应用程序可能会使用独立的网络配置或代理设置，因此可能不会受到全局代理的影响。

## 代理中的ignore hosts是什么

"ignore hosts"（忽略主机）是代理设置中的一个选项，用于指定一组主机或域名，这些主机或域名将被忽略并直接连接，而不经过代理。

当设置了代理服务器后，所有的网络流量通常会通过代理服务器进行转发。然而，有时候你可能希望绕过代理，直接连接某些特定的主机或域名，例如本地网络或特定的内部网络。

在这种情况下，你可以使用"ignore hosts"选项来指定这些需要忽略代理的主机或域名。当流量的目标主机或域名匹配到"ignore hosts"列表中的条目时，客户端将直接连接到目标主机，而不通过代理服务器。

这个选项通常用于配置代理客户端，例如在浏览器或其他网络应用程序中设置代理时。通过添加需要忽略代理的主机或域名到"ignore hosts"列表，你可以灵活地控制哪些流量需要经过代理，哪些流量需要直接连接。

需要注意的是，具体的配置方法和支持的语法可能因不同的代理工具或应用程序而有所不同。在设置代理时，你可以查阅相关文档或参考工具的配置说明，以了解如何正确配置"ignore hosts"选项。

## 代理中的PAC模式是什么

PAC（Proxy Auto-Config）模式是一种代理配置模式，用于根据特定规则自动选择代理服务器或直接连接目标服务器。

在PAC模式中，一个PAC文件（通常是一个JavaScript文件）包含了一系列规则和逻辑，用于决定特定请求是否需要通过代理服务器进行转发。这些规则可以基于目标URL、主机名、IP地址、端口等信息进行匹配和判断。

当使用PAC模式时，代理客户端会请求并加载PAC文件。然后，每次发起网络请求时，代理客户端会根据PAC文件中的规则进行判断，决定是使用代理还是直接连接目标服务器。

PAC文件中的规则可以非常灵活，可以根据自定义的逻辑和条件来选择代理或直连。例如，你可以根据目标URL的域名后缀、特定关键词或特定IP地址范围等条件进行匹配和判断。

PAC模式的优点在于可以根据需求动态地选择代理或直接连接，而无需手动配置代理服务器。它特别适用于需要根据不同的访问情况自动调整代理设置的场景，例如在公司或学校网络中根据内外网访问规则自动切换代理设置。

需要注意的是，PAC模式需要代理客户端（如浏览器）支持，并且需要正确配置代理客户端以使用PAC文件。具体的配置和使用方法可以参考代理客户端的文档或指南。

